function Draw-ProgressBar {
    param (
        [int]$PercentComplete
    )

    $ProgressBarLength = 20
    $CompletedLength = [math]::Ceiling(($PercentComplete / 100) * $ProgressBarLength)
    $RemainingLength = $ProgressBarLength - $CompletedLength

    $ProgressBar = "[" + "█" * $CompletedLength + "▒" * $RemainingLength + "] $PercentComplete%"
    Clear-Host
    Write-Host $ProgressBar -NoNewline
}

$url = "https://download1325.mediafire.com/xfg12a6uxxagSgoGmAphggRZE9Q6Zfsy0QF7SRhNjhkZ9x610tCcMmsGDnmWO8F9rD5jht-r4UUgWIhv-BvpvQ5YAZf5MW7lPZSrleSdn6EX8-6RHreBUPnTuWSFtSBfLAc4MxdB4uWJK1VEyT6yiyttdHekQLWc-IAl0KUDzHnRy-A/n83ni66lrk0t74j/DATA+LINDA+V25+COM+ENB.rar"
$outputFile = "$env:USERPROFILE\Downloads\DATA LINDA V25 COM ENB.rar"

$webRequest = [System.Net.WebRequest]::Create($url)
$response = $webRequest.GetResponse()
$fileSize = [int]$response.ContentLength
$responseStream = $response.GetResponseStream()
$fileStream = [System.IO.File]::Create($outputFile)

$buffer = New-Object byte[] 1024
$totalBytesRead = 0
$bytesRead = 0
$lastPercentComplete = -1
$progressStarted = $false

while (($bytesRead = $responseStream.Read($buffer, 0, $buffer.Length)) -gt 0) {
    if (!$progressStarted) {
        $progressStarted = $true
        Write-Host "Downloading..." -NoNewline
    }
    $fileStream.Write($buffer, 0, $bytesRead)
    $totalBytesRead += $bytesRead
    $percentComplete = [int](($totalBytesRead / $fileSize) * 100)
    if ($percentComplete -ne $lastPercentComplete) {
        $lastPercentComplete = $percentComplete
        Draw-ProgressBar -PercentComplete $percentComplete
    }
}

$fileStream.Close()
$responseStream.Close()
if ($progressStarted) {
    Write-Host "`nDownload complete." -ForegroundColor Green
} else {
    Write-Host "No download activity detected." -ForegroundColor Yellow
}
